2021/08/31 19:11:04 [INFO] Packer version: 1.7.4 [go1.16.6 darwin arm64]
2021/08/31 19:11:04 [TRACE] discovering plugins in /opt/homebrew/Cellar/packer/1.7.4/libexec/bin
2021/08/31 19:11:04 [TRACE] discovering plugins in /Users/p0rkjello/.packer.d/plugins
2021/08/31 19:11:04 [TRACE] discovering plugins in .
2021/08/31 19:11:04 [TRACE] discovering plugins in 
2021/08/31 19:11:04 [TRACE] discovering plugins in /opt/homebrew/bin
2021/08/31 19:11:04 [INFO] PACKER_CONFIG env var not set; checking the default config file path
2021/08/31 19:11:04 [INFO] PACKER_CONFIG env var set; attempting to open config file: /Users/p0rkjello/.packerconfig
2021/08/31 19:11:04 [WARN] Config file doesn't exist: /Users/p0rkjello/.packerconfig
2021/08/31 19:11:04 [INFO] Setting cache directory: /Users/p0rkjello/Documents/vsphere_packer_templates/packer_cache
2021/08/31 19:11:04 ui error: Failed to parse file as legacy JSON template: if you are using an HCL template, check your file extensions; they should be either *.pkr.hcl or *.pkr.json; see the docs for more details: https://www.packer.io/docs/templates/hcl_templates. 
Original error: 15 errors occurred:
	* Unknown root level key in template: 'os_iso_path'
	* Unknown root level key in template: 'vm-cpu-num'
	* Unknown root level key in template: 'vm-disk-size'
	* Unknown root level key in template: 'vm-mem-size'
	* Unknown root level key in template: 'vm-name'
	* Unknown root level key in template: 'vsphere-cluster'
	* Unknown root level key in template: 'vsphere-datacenter'
	* Unknown root level key in template: 'vsphere-datastore'
	* Unknown root level key in template: 'vsphere-folder'
	* Unknown root level key in template: 'vsphere-network'
	* Unknown root level key in template: 'vsphere-password'
	* Unknown root level key in template: 'vsphere-server'
	* Unknown root level key in template: 'vsphere-user'
	* Unknown root level key in template: 'winadmin-password'
	* Unknown root level key in template: 'winrm_username'

2021/08/31 19:11:04 ui error: Failed to get config from JSON
2021/08/31 19:11:04 waiting for all plugin processes to complete...
panic: interface conversion: packer.Handler is nil, not *command.CoreWrapper

goroutine 1 [running]:
github.com/hashicorp/packer/command.(*HCL2UpgradeCommand).RunContext(0x14000aac750, 0x105352ba0, 0x14000635b40, 0x1400043a000, 0x0)
	github.com/hashicorp/packer/command/hcl2_upgrade.go:159 +0xe34
github.com/hashicorp/packer/command.(*HCL2UpgradeCommand).Run(0x14000aac750, 0x14000140020, 0x2, 0x2, 0x0)
	github.com/hashicorp/packer/command/hcl2_upgrade.go:41 +0xd0
github.com/mitchellh/cli.(*CLI).Run(0x1400036fcc0, 0x1400036fcc0, 0x1, 0x1)
	github.com/mitchellh/cli@v1.1.0/cli.go:260 +0x2c4
main.wrappedMain(0x0)
	github.com/hashicorp/packer/main.go:262 +0x6dc
main.realMain(0x0)
	github.com/hashicorp/packer/main.go:49 +0xc0
main.main()
	github.com/hashicorp/packer/main.go:35 +0x20
